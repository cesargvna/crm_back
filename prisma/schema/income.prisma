model Income {
  id                    String           @id @default(uuid()) @db.VarChar(255)
  name                  String           @db.VarChar(100)
  status                Boolean          @default(true)
  description           String?          @db.VarChar(100)
  total_amount          Decimal          @db.Decimal(10, 2)

  created_at            DateTime         @default(now())
  updated_at            DateTime         @updatedAt

  incomeCategoryId      String
  userId                String

  tenantId              String           @db.VarChar(255)
  subsidiaryId          String           @db.VarChar(255)

  incomecategory        IncomeCategory   @relation(fields: [incomeCategoryId], references: [id])
  user                  User             @relation(fields: [userId], references: [id])

  @@index([tenantId])
  @@index([subsidiaryId])
  @@index([userId])
}

model IncomeCategory {
  id                    String           @id @default(uuid()) @db.VarChar(255)
  name                  String           @db.VarChar(50)
  status                Boolean          @default(true)
  description           String?          @db.VarChar(100)

  tenantId              String           @db.VarChar(255) 
  subsidiaryId          String           @db.VarChar(255) 
  
  created_at            DateTime         @default(now())
  updated_at            DateTime         @updatedAt

  @@unique([name])

  incomes               Income[] 

  @@unique([name, tenantId, subsidiaryId]) 
  @@index([tenantId])
  @@index([subsidiaryId])
}